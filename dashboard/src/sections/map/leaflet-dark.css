/**
 * Dark theme overrides for Leaflet map components.
 * Applies monochromatic grey styling consistent with the shadcn theme.
 */

/* Control container backgrounds */
.leaflet-control-container .leaflet-control {
  background-color: oklch(0.16 0 0);
  border-color: oklch(0.25 0 0);
}

/* Zoom controls */
.leaflet-control-zoom {
  border: 1px solid oklch(0.25 0 0) !important;
  border-radius: 0.5rem;
  overflow: hidden;
}

.leaflet-control-zoom a {
  background-color: oklch(0.16 0 0) !important;
  color: oklch(0.95 0 0) !important;
  border-bottom-color: oklch(0.25 0 0) !important;
  transition: background-color 0.15s ease;
}

.leaflet-control-zoom a:hover {
  background-color: oklch(0.22 0 0) !important;
  color: oklch(0.95 0 0) !important;
}

.leaflet-control-zoom a:active {
  background-color: oklch(0.25 0 0) !important;
}

.leaflet-control-zoom-in {
  border-top-left-radius: calc(0.5rem - 1px);
  border-top-right-radius: calc(0.5rem - 1px);
}

.leaflet-control-zoom-out {
  border-bottom-left-radius: calc(0.5rem - 1px);
  border-bottom-right-radius: calc(0.5rem - 1px);
  border-bottom: none !important;
}

/* Attribution control */
.leaflet-control-attribution {
  background-color: oklch(0.13 0 0 / 0.8) !important;
  color: oklch(0.65 0 0) !important;
  border-radius: 0.25rem;
  padding: 2px 6px;
}

.leaflet-control-attribution a {
  color: oklch(0.75 0 0) !important;
}

.leaflet-control-attribution a:hover {
  color: oklch(0.9 0 0) !important;
}

/* Scale control */
.leaflet-control-scale-line {
  background-color: oklch(0.13 0 0 / 0.8) !important;
  border-color: oklch(0.5 0 0) !important;
  color: oklch(0.85 0 0) !important;
  border-radius: 0.25rem;
  padding: 2px 5px;
}

/* Popup styles */
.leaflet-popup-content-wrapper {
  background-color: oklch(0.16 0 0) !important;
  color: oklch(0.95 0 0) !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5) !important;
  border: 1px solid oklch(0.25 0 0);
}

.leaflet-popup-content {
  margin: 12px 16px !important;
  color: oklch(0.95 0 0) !important;
}

.leaflet-popup-content h3,
.leaflet-popup-content h4 {
  color: oklch(0.95 0 0) !important;
  margin-bottom: 0.5rem;
}

.leaflet-popup-content p {
  color: oklch(0.75 0 0) !important;
  margin: 0.25rem 0;
}

.leaflet-popup-tip-container {
  margin-top: -1px;
}

.leaflet-popup-tip {
  background-color: oklch(0.16 0 0) !important;
  border: 1px solid oklch(0.25 0 0);
  border-top: none;
  border-left: none;
  box-shadow: none !important;
}

/* Popup close button */
.leaflet-popup-close-button {
  color: oklch(0.65 0 0) !important;
  font-size: 20px !important;
  padding: 4px 8px !important;
  transition: color 0.15s ease;
}

.leaflet-popup-close-button:hover {
  color: oklch(0.95 0 0) !important;
}

/* Tooltip styles */
.leaflet-tooltip {
  background-color: oklch(0.16 0 0) !important;
  color: oklch(0.95 0 0) !important;
  border: 1px solid oklch(0.25 0 0) !important;
  border-radius: 0.375rem !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;
  padding: 6px 10px !important;
  font-size: 12px;
}

.leaflet-tooltip-top::before,
.leaflet-tooltip-bottom::before,
.leaflet-tooltip-left::before,
.leaflet-tooltip-right::before {
  border-top-color: oklch(0.25 0 0) !important;
  border-bottom-color: oklch(0.25 0 0) !important;
  border-left-color: oklch(0.25 0 0) !important;
  border-right-color: oklch(0.25 0 0) !important;
}

/* Layer control */
.leaflet-control-layers {
  background-color: oklch(0.16 0 0) !important;
  border: 1px solid oklch(0.25 0 0) !important;
  border-radius: 0.5rem !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
}

.leaflet-control-layers-expanded {
  padding: 8px 12px !important;
}

.leaflet-control-layers-toggle {
  background-color: oklch(0.16 0 0) !important;
  border-radius: 0.375rem;
}

.leaflet-control-layers-list {
  color: oklch(0.95 0 0) !important;
}

.leaflet-control-layers-selector {
  accent-color: oklch(0.9 0 0);
}

.leaflet-control-layers-separator {
  border-top-color: oklch(0.25 0 0) !important;
}

/* Touch/click feedback */
.leaflet-bar a:focus,
.leaflet-control-zoom a:focus {
  outline: 2px solid oklch(0.5 0 0) !important;
  outline-offset: 2px;
}

/* Disabled states */
.leaflet-disabled {
  background-color: oklch(0.13 0 0) !important;
  color: oklch(0.4 0 0) !important;
  cursor: not-allowed;
}

/* Loading indicator */
.leaflet-control-loading {
  background-color: oklch(0.16 0 0) !important;
  border-radius: 0.375rem;
}

/* Map pane backgrounds for consistency */
.leaflet-pane {
  z-index: auto;
}

/* Marker cluster styling (if used) */
.marker-cluster {
  background-color: oklch(0.22 0 0) !important;
  border: 2px solid oklch(0.35 0 0) !important;
}

.marker-cluster div {
  background-color: oklch(0.3 0 0) !important;
  color: oklch(0.95 0 0) !important;
}

.marker-cluster-small {
  background-color: oklch(0.22 0 0 / 0.8) !important;
}

.marker-cluster-medium {
  background-color: oklch(0.25 0 0 / 0.8) !important;
}

.marker-cluster-large {
  background-color: oklch(0.28 0 0 / 0.8) !important;
}

/* Path/polyline styles for dark theme visibility */
.leaflet-interactive {
  stroke-opacity: 0.9;
}

/* Custom scrollbar in popups */
.leaflet-popup-content::-webkit-scrollbar {
  width: 6px;
}

.leaflet-popup-content::-webkit-scrollbar-track {
  background: oklch(0.13 0 0);
  border-radius: 3px;
}

.leaflet-popup-content::-webkit-scrollbar-thumb {
  background: oklch(0.35 0 0);
  border-radius: 3px;
}

.leaflet-popup-content::-webkit-scrollbar-thumb:hover {
  background: oklch(0.45 0 0);
}

/* Draw control (if used) */
.leaflet-draw-toolbar a {
  background-color: oklch(0.16 0 0) !important;
  border-color: oklch(0.25 0 0) !important;
}

.leaflet-draw-toolbar a:hover {
  background-color: oklch(0.22 0 0) !important;
}

/* Selection rectangle styling */
.leaflet-selection-rectangle {
  stroke: oklch(0.9 0 0);
  stroke-width: 2;
  fill: oklch(0.9 0 0);
  fill-opacity: 0.1;
  stroke-dasharray: 5, 5;
}
